@let details = details$ | async;

@if (details) {
<section>
  <h4>Details</h4>
  <p><a [href]="details.homepage">HomePage</a></p>
  <p>Origin:
    <img [src]="'https://flagsapi.com/' + details.origin.country + '/shiny/32.png'">
    ({{details.origin.language}})
  </p>
  <p>Budget: {{details.budget | currency}} / Revenue: {{details.revenue | currency}}</p>
  <p>Languages: {{details.languages}} </p>
</section>

<section>
  <h4>Trailers</h4>
  @for (video of videos$ | async; track video.id) {
  <iframe [src]="getSafeResourceUrl(video.url)" frameborder="0" allowfullscreen width="560" height="315"></iframe>
  }
</section>

<section>
  <h4>Reviews</h4>
  @for (review of reviews$ | async; track review.id) {
  <details>
    <p>{{review.content}}</p>
    <summary>What {{review.author}} said ...</summary>
  </details>
  }
</section>

<section>
  <h4>Recommendations</h4>
  @for (video of similar$ | async; track video.id) {
  <img [src]="video.poster" alt="video.title">
  }
</section>

} @else {
Loading...
}
